"use client";

import React, { useState } from "react";
import { RingLevelizer, RingConfig } from "./RingLevelizer";

// ユーザーから提供されたSVGデータ (Ring 7)
const RING7_SVG = `<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="100%" height="100%" viewBox="0 0 134 117" version="1.1" xmlns="http://www.w3.org/2000/svg"><g><path d="M33.389,97.324l-2.083,2.5c2.083,1.25 3.75,2.5 5.833,3.75l0.833,-3.333c-1.667,-1.25 -2.917,-2.083 -4.583,-2.917Z"/><path d="M8.389,74.824c0.833,1.25 1.667,2.917 2.917,4.583l4.167,-0.417c-0.833,-1.25 -1.667,-2.083 -2.083,-3.333l-5,-0.833Z"/><path d="M2.972,35.658l4.583,4.583c0,-1.667 0.833,-2.917 1.25,-4.167l-4.167,-5.417c-0.833,1.667 -1.25,3.333 -1.667,5Z"/><path d="M21.722,18.574l-2.5,-6.25c-1.667,1.25 -3.333,2.917 -5,4.167l3.333,5.833c1.25,-1.25 2.5,-2.5 4.167,-3.75Z"/><path d="M1.306,46.908l5,3.333l0,-4.167l-4.583,-4.583c-0.417,2.083 -0.417,3.75 -0.417,5.417Z"/><path d="M1.306,53.158c0.417,1.667 0.417,3.333 0.833,5l5,2.083c0,-1.25 -0.417,-2.5 -0.833,-3.75l-5,-3.333Z"/><path d="M3.806,64.408c0.417,1.667 1.25,2.917 1.667,4.583l5,0.833c-0.417,-1.25 -1.25,-2.083 -1.667,-3.333l-5,-2.083Z"/><path d="M29.222,93.991c-1.25,-0.833 -2.5,-2.083 -3.75,-3.333l-3.333,1.667c1.667,1.667 3.333,2.917 5,4.167l2.083,-2.5Z"/><path d="M7.139,25.658l4.167,5c0.833,-1.25 1.667,-2.917 2.5,-4.167l-3.333,-5.833c-1.25,1.667 -2.083,3.333 -3.333,5Z"/><path d="M21.722,86.908c-0.833,-0.833 -1.667,-2.083 -2.917,-3.333l-4.167,0.417c1.25,1.667 2.5,2.917 3.75,4.583l3.333,-1.667Z"/><path d="M87.139,114.408l-5,-4.167c-1.667,0.417 -3.75,0.417 -5.417,0.417l3.75,4.167c2.083,0 4.583,-0.417 6.667,-0.417Z"/><path d="M98.806,14.408c-2.5,-1.667 -5.417,-3.333 -8.333,-4.583l-3.75,5.833c2.5,1.25 5,2.917 7.5,4.167l4.583,-5.417Z"/><path d="M116.306,42.324c1.25,2.083 2.5,4.167 3.333,6.25l7.5,-2.5c-1.25,-2.5 -2.917,-5 -4.167,-7.5l-6.667,3.75Z"/><path d="M131.722,63.574l-7.917,1.667c0.417,2.083 0.417,4.167 0.417,6.25l7.5,-0.833c0.417,-2.5 0.417,-4.583 0,-7.083Z"/><path d="M121.722,53.574c0.417,2.083 1.25,4.167 1.667,6.25l7.5,-1.25c-0.417,-2.917 -1.25,-5.417 -2.083,-7.917l-7.083,2.917Z"/><path d="M117.139,91.491l7.083,1.667c1.25,-1.667 2.5,-3.75 3.333,-5.833l-7.917,-0.417c-0.833,1.667 -1.667,3.333 -2.5,4.583Z"/><path d="M131.306,76.074l-7.917,0.417c-0.417,1.667 -0.833,3.75 -1.25,5.417l7.5,0.833c0.833,-2.5 1.25,-4.583 1.667,-6.667Z"/><path d="M108.389,31.908c1.667,1.667 3.333,3.75 5,5.833l6.667,-3.333c-1.667,-2.5 -3.75,-5 -5.833,-7.083l-5.833,4.583Z"/><path d="M82.139,13.574l3.333,-5.833c-2.917,-1.25 -5.833,-2.5 -9.167,-3.333l-2.5,6.667c2.917,0.833 5.417,1.667 8.333,2.5Z"/><path d="M120.889,97.741l-7.5,-1.667c-1.25,1.25 -2.5,2.5 -3.75,3.333l6.667,2.5c1.667,-1.25 2.917,-2.917 4.583,-4.167Z"/><path d="M99.639,111.074l-5.833,-2.917c-1.667,0.417 -3.333,0.833 -5,1.25l5,3.75c2.083,-0.417 4.167,-1.25 5.833,-2.083Z"/><path d="M111.306,105.658l-6.667,-2.5c-1.667,0.833 -2.917,1.667 -4.583,2.5l5.833,2.917c1.667,-0.833 3.75,-1.667 5.417,-2.917Z"/><path d="M98.389,22.741c2.083,1.667 4.167,3.75 6.25,5.417l5.833,-4.583c-2.083,-2.083 -4.583,-4.167 -7.5,-6.25l-4.583,5.417Z"/><path d="M42.139,106.074c0.417,0 0.417,0.417 0.833,0.417c2.083,0.833 3.75,1.667 5.417,2.5l-0.833,-4.167c-1.25,-0.417 -2.5,-0.833 -3.75,-1.667c-0.417,0 -0.833,-0.417 -1.25,-0.417l-0.417,3.333Z"/><path d="M60.472,112.741l-2.083,-4.167c-1.667,-0.417 -3.333,-0.833 -5.417,-1.667l0.833,4.167c2.5,0.417 4.583,1.25 6.667,1.667Z"/><path d="M57.139,1.491c-2.917,-0.417 -5.833,0 -8.75,0l-0.417,7.083c2.5,-0.417 5.417,-0.417 7.917,-0.417l1.25,-6.667Z"/><path d="M42.972,2.324c-2.5,0.417 -5.417,1.25 -7.917,2.083l1.25,6.667c2.083,-0.833 4.583,-1.25 6.667,-1.667l0,-7.083Z"/><path d="M25.889,15.658c1.667,-0.833 3.75,-2.083 5.417,-2.917l-0.833,-6.667c-2.5,0.833 -4.583,2.083 -6.667,3.333l2.083,6.25Z"/><path d="M70.056,110.658c-2.083,-0.417 -3.75,-0.417 -5.417,-0.833l2.5,4.167c2.083,0.417 4.167,0.417 6.667,0.833l-3.75,-4.167Z"/><path d="M71.306,3.158c-2.917,-0.833 -5.833,-1.25 -9.167,-1.25l-1.25,6.667c2.5,0 5.417,0.417 7.917,1.25l2.5,-6.667Z"/></g></svg>`;

export const D919LevelizerDemo = () => {
  // ==========================================
  // 設定部分: 動作を変更するにはここをいじります
  // ==========================================
  const [config, setConfig] = useState<RingConfig>({
    rotationSpeed: 0.2,     // 回転スピード (大きいほど速い)
    numSets: 2,             // 環上にあるセット数 (1〜3)
    setSize: 4,             // 1セットあたりのセルの数 (隣接するN個)
    litColor: "#00FFFF",    // 光っている色 (シアン)
    dimColor: "#1a1a1a",    // 消えている色 (ダークグレー)
    direction: 1,           // 1: 時計回り, -1: 反時計回り
  });

  return (
    <div className="flex flex-col items-center gap-8 p-8 bg-black min-h-screen text-white">
      <h1 className="text-2xl font-bold text-cyan-400">KENWOOD D919 Style Levelizer</h1>
      
      {/* レベライザー表示部分 */}
      <div className="relative w-64 h-64 border border-gray-800 rounded-lg p-4 flex items-center justify-center bg-gray-900">
        <RingLevelizer svgString={RING7_SVG} config={config} />
      </div>

      {/* 簡易設定UI (開発用) */}
      <div className="flex flex-col gap-4 p-4 border border-gray-700 rounded w-full max-w-md">
        <label className="flex justify-between">
          Speed:
          <input 
            type="range" min="0.05" max="1.0" step="0.05" 
            value={config.rotationSpeed} 
            onChange={(e) => setConfig({...config, rotationSpeed: parseFloat(e.target.value)})} 
          />
        </label>
        <label className="flex justify-between">
          Sets (1-3):
          <input 
            type="number" min="1" max="3" 
            value={config.numSets} 
            onChange={(e) => setConfig({...config, numSets: parseInt(e.target.value)})} 
            className="bg-gray-800 px-2 rounded"
          />
        </label>
        <label className="flex justify-between">
          Set Size (N):
          <input 
            type="number" min="1" max="10" 
            value={config.setSize} 
            onChange={(e) => setConfig({...config, setSize: parseInt(e.target.value)})} 
            className="bg-gray-800 px-2 rounded"
          />
        </label>
        <label className="flex justify-between">
          Direction:
          <button 
            onClick={() => setConfig({...config, direction: config.direction === 1 ? -1 : 1})}
            className="bg-cyan-700 px-2 rounded text-sm"
          >
            {config.direction === 1 ? "Clockwise" : "Counter-Clockwise"}
          </button>
        </label>
      </div>
    </div>
  );
};